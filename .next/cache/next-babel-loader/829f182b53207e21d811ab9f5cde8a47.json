{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Volumes/Backup HD/frontend/poc-next-web/poc-nextnext/src/lib/page/Page/Stats.js\";\nimport { useEffect, Fragment } from 'react';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport * as GTM from \"../../stats/gtm\";\nconst gtmContainerId = process.env.GTM_CONTAINER_ID;\nexport default function Meta({\n  data,\n  metaConfig = {}\n}) {\n  const router = useRouter();\n  const {\n    getGTMDimensions = () => {}\n  } = metaConfig;\n  const dimensions = getGTMDimensions(data) || {};\n  const isSSR = !false || window.__NEXT_DATA__.props.isSSR === undefined;\n  useEffect(function () {\n    if (!isSSR) {\n      setTimeout(() => {\n        GTM.logPageview(dimensions);\n      }, 500);\n    }\n  }, [router.asPath]);\n  return _jsxDEV(Fragment, {\n    children: _jsxDEV(Head, {\n      children: [_jsxDEV(\"script\", {\n        dangerouslySetInnerHTML: {\n          __html: `var dimensionOBJ = {};\n              var dataLayer = [];\n              dimensionOBJ.userLogin = (function() {\n                  if ((document.cookie.match('(^|; )' + 'smimid' + '=([^;]*)') || 0)[2] != undefined) {\n                      return 1;\n                  } else {\n                      return 0;\n                  }\n              })();\n              if ((document.cookie.match('(^|; )' + 'smimid' + '=([^;]*)') || 0)[2] != undefined) {\n                  dimensionOBJ.userSMI = (document.cookie.match('(^|; )' + 'smimid' + '=([^;]*)')[2]);\n                  dimensionOBJ.userID = (document.cookie.match('(^|; )' + 'smimid' + '=([^;]*)')[2]);\n              }\n              dataLayer = [dimensionOBJ];\n\n              (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n              new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n              j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n              'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n              })(window,document,'script','dataLayer','${gtmContainerId}');`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), _jsxDEV(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: `<iframe src=\"https://www.googletagmanager.com/ns.html?id=${gtmContainerId}\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\"></iframe>`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Volumes/Backup HD/frontend/poc-next-web/poc-nextnext/src/lib/page/Page/Stats.js"],"names":["useEffect","Fragment","Head","useRouter","GTM","gtmContainerId","process","env","GTM_CONTAINER_ID","Meta","data","metaConfig","router","getGTMDimensions","dimensions","isSSR","window","__NEXT_DATA__","props","undefined","setTimeout","logPageview","asPath","__html"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAO,KAAKC,GAAZ;AAEA,MAAMC,cAAc,GAAGC,OAAO,CAACC,GAAR,CAAYC,gBAAnC;AAEA,eAAe,SAASC,IAAT,CAAc;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,UAAU,GAAG;AAArB,CAAd,EAAyC;AACtD,QAAMC,MAAM,GAAGT,SAAS,EAAxB;AAEA,QAAM;AAAEU,IAAAA,gBAAgB,GAAG,MAAM,CAAE;AAA7B,MAAkCF,UAAxC;AACA,QAAMG,UAAU,GAAGD,gBAAgB,CAACH,IAAD,CAAhB,IAA0B,EAA7C;AAEA,QAAMK,KAAK,GACT,UAAoBC,MAAM,CAACC,aAAP,CAAqBC,KAArB,CAA2BH,KAA3B,KAAqCI,SAD3D;AAGAnB,EAAAA,SAAS,CACP,YAAW;AACT,QAAI,CAACe,KAAL,EAAY;AACVK,MAAAA,UAAU,CAAC,MAAM;AACfhB,QAAAA,GAAG,CAACiB,WAAJ,CAAgBP,UAAhB;AACD,OAFS,EAEP,GAFO,CAAV;AAGD;AACF,GAPM,EAQP,CAACF,MAAM,CAACU,MAAR,CARO,CAAT;AAWA,SACE,QAAC,QAAD;AAAA,cACE,QAAC,IAAD;AAAA,iBACE;AACE,QAAA,uBAAuB,EAAE;AACvBC,UAAAA,MAAM,EAAG;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyDlB,cAAe;AApBrC;AAD3B;AAAA;AAAA;AAAA;AAAA,cADF,EAyBE;AACE,QAAA,uBAAuB,EAAE;AACvBkB,UAAAA,MAAM,EAAG,4DAA2DlB,cAAe;AAD5D;AAD3B;AAAA;AAAA;AAAA;AAAA,cAzBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAmCD","sourcesContent":["import { useEffect, Fragment } from 'react'\nimport Head from 'next/head'\nimport { useRouter } from 'next/router'\n\nimport * as GTM from '@lib/stats/gtm'\n\nconst gtmContainerId = process.env.GTM_CONTAINER_ID\n\nexport default function Meta({ data, metaConfig = {} }) {\n  const router = useRouter()\n\n  const { getGTMDimensions = () => {} } = metaConfig\n  const dimensions = getGTMDimensions(data) || {}\n\n  const isSSR =\n    !process.browser || window.__NEXT_DATA__.props.isSSR === undefined\n\n  useEffect(\n    function() {\n      if (!isSSR) {\n        setTimeout(() => {\n          GTM.logPageview(dimensions)\n        }, 500)\n      }\n    },\n    [router.asPath],\n  )\n\n  return (\n    <Fragment>\n      <Head>\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `var dimensionOBJ = {};\n              var dataLayer = [];\n              dimensionOBJ.userLogin = (function() {\n                  if ((document.cookie.match('(^|; )' + 'smimid' + '=([^;]*)') || 0)[2] != undefined) {\n                      return 1;\n                  } else {\n                      return 0;\n                  }\n              })();\n              if ((document.cookie.match('(^|; )' + 'smimid' + '=([^;]*)') || 0)[2] != undefined) {\n                  dimensionOBJ.userSMI = (document.cookie.match('(^|; )' + 'smimid' + '=([^;]*)')[2]);\n                  dimensionOBJ.userID = (document.cookie.match('(^|; )' + 'smimid' + '=([^;]*)')[2]);\n              }\n              dataLayer = [dimensionOBJ];\n\n              (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n              new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n              j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n              'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n              })(window,document,'script','dataLayer','${gtmContainerId}');`,\n          }}\n        />\n        <noscript\n          dangerouslySetInnerHTML={{\n            __html: `<iframe src=\"https://www.googletagmanager.com/ns.html?id=${gtmContainerId}\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\"></iframe>`,\n          }}\n        />\n      </Head>\n    </Fragment>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}