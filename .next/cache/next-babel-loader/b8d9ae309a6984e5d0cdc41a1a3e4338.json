{"ast":null,"code":"import { useState } from 'react';\nexport default function FetchMore({\n  children,\n  service,\n  start,\n  limit\n}) {\n  const {\n    0: lastStart,\n    1: setLastStart\n  } = useState(start);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: isDone,\n    1: setIsDone\n  } = useState(false);\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n\n  const fetchMore = async () => {\n    setIsLoading(true);\n    const newData = await service({\n      start: lastStart,\n      limit\n    });\n    setIsLoading(false);\n    setLastStart(lastStart + newData.length);\n    setData(data.concat(newData));\n\n    if (newData.length < limit) {\n      setIsDone(true);\n    }\n  };\n\n  return children({\n    data,\n    fetchMore,\n    isLoading,\n    isDone\n  });\n}","map":null,"metadata":{},"sourceType":"module"}