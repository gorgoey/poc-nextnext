{"ast":null,"code":"import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers';\nimport { useStores } from \"../store\";\nexport default function Form({\n  children,\n  defaultValues = {},\n  schema,\n  onSubmit,\n  onError = handleError\n}) {\n  const {\n    ErrorStore\n  } = useStores();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({\n    defaultValues,\n    resolver: schema ? yupResolver(schema) : null\n  });\n  return _jsx(\"form\", {\n    onSubmit: handleSubmit(data => {\n      const response = onSubmit(data);\n\n      if (response && typeof response.catch === 'function') {\n        response.catch(onError(ErrorStore));\n      }\n    }),\n    children: children({\n      register,\n      errors\n    })\n  });\n}\n\nfunction handleError(errorStore) {\n  return error => {\n    errorStore.addError({\n      title: error.message\n    });\n  };\n}","map":null,"metadata":{},"sourceType":"module"}