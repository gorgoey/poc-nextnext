{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nvar defaultTimeout = 10000;\nexport function fetchAPI(_ref) {\n  var _ref$apiUrl = _ref.apiUrl,\n      apiUrl = _ref$apiUrl === void 0 ? process.env.API_URL : _ref$apiUrl,\n      path = _ref.path,\n      token = _ref.token,\n      _ref$timeout = _ref.timeout,\n      timeout = _ref$timeout === void 0 ? defaultTimeout : _ref$timeout,\n      options = _objectWithoutProperties(_ref, [\"apiUrl\", \"path\", \"token\", \"timeout\"]);\n\n  return axios(_objectSpread({\n    baseURL: \"\".concat(apiUrl).concat(path),\n    headers: _objectSpread({}, token && {\n      Authorization: \"Bearer \".concat(token)\n    }),\n    timeout: timeout\n  }, options)).then(function (_ref2) {\n    var data = _ref2.data;\n    return data;\n  });\n}\nexport function postAPI(_ref3) {\n  var _ref3$apiUrl = _ref3.apiUrl,\n      apiUrl = _ref3$apiUrl === void 0 ? process.env.API_URL : _ref3$apiUrl,\n      path = _ref3.path,\n      data = _ref3.data,\n      token = _ref3.token,\n      _ref3$timeout = _ref3.timeout,\n      timeout = _ref3$timeout === void 0 ? defaultTimeout : _ref3$timeout,\n      options = _objectWithoutProperties(_ref3, [\"apiUrl\", \"path\", \"data\", \"token\", \"timeout\"]);\n\n  return axios(_objectSpread({\n    method: 'post',\n    url: \"\".concat(apiUrl).concat(path),\n    headers: _objectSpread({\n      'Content-Type': 'application/json'\n    }, token && {\n      Authorization: \"Bearer \".concat(token)\n    }),\n    data: data,\n    timeout: timeout\n  }, options)).then(function (_ref4) {\n    var data = _ref4.data;\n    return data;\n  });\n}\nexport function fetchGQL(_ref5) {\n  var _ref5$apiURL = _ref5.apiURL,\n      apiURL = _ref5$apiURL === void 0 ? process.env.API_URL : _ref5$apiURL,\n      query = _ref5.query,\n      _ref5$timeout = _ref5.timeout,\n      timeout = _ref5$timeout === void 0 ? defaultTimeout : _ref5$timeout,\n      _ref5$variables = _ref5.variables,\n      variables = _ref5$variables === void 0 ? null : _ref5$variables;\n  return axios({\n    method: 'post',\n    url: apiURL,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    data: {\n      query: query,\n      variables: variables,\n      operationName: null\n    },\n    timeout: timeout\n  }).then(function (_ref6) {\n    var data = _ref6.data;\n    return data;\n  });\n}\nexport function throwError() {\n  var status = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n\n  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref7$errorCode = _ref7.errorCode,\n      errorCode = _ref7$errorCode === void 0 ? '' : _ref7$errorCode;\n\n  var err = new Error();\n  err.response = {\n    status: status,\n    errorCode: errorCode\n  };\n  throw err;\n}","map":{"version":3,"sources":["/Volumes/Backup HD/frontend/poc-next-web/poc-nextnext/src/lib/api/helpers.js"],"names":["axios","defaultTimeout","fetchAPI","apiUrl","process","env","API_URL","path","token","timeout","options","baseURL","headers","Authorization","then","data","postAPI","method","url","fetchGQL","apiURL","query","variables","operationName","throwError","status","errorCode","err","Error","response"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,cAAc,GAAG,KAAvB;AAEA,OAAO,SAASC,QAAT,OAMJ;AAAA,yBALDC,MAKC;AAAA,MALDA,MAKC,4BALQC,OAAO,CAACC,GAAR,CAAYC,OAKpB;AAAA,MAJDC,IAIC,QAJDA,IAIC;AAAA,MAHDC,KAGC,QAHDA,KAGC;AAAA,0BAFDC,OAEC;AAAA,MAFDA,OAEC,6BAFSR,cAET;AAAA,MADES,OACF;;AACD,SAAOV,KAAK;AACVW,IAAAA,OAAO,YAAKR,MAAL,SAAcI,IAAd,CADG;AAEVK,IAAAA,OAAO,oBACDJ,KAAK,IAAI;AAAEK,MAAAA,aAAa,mBAAYL,KAAZ;AAAf,KADR,CAFG;AAKVC,IAAAA,OAAO,EAAPA;AALU,KAMPC,OANO,EAAL,CAOJI,IAPI,CAOC;AAAA,QAAGC,IAAH,SAAGA,IAAH;AAAA,WAAcA,IAAd;AAAA,GAPD,CAAP;AAQD;AAED,OAAO,SAASC,OAAT,QAOJ;AAAA,2BANDb,MAMC;AAAA,MANDA,MAMC,6BANQC,OAAO,CAACC,GAAR,CAAYC,OAMpB;AAAA,MALDC,IAKC,SALDA,IAKC;AAAA,MAJDQ,IAIC,SAJDA,IAIC;AAAA,MAHDP,KAGC,SAHDA,KAGC;AAAA,4BAFDC,OAEC;AAAA,MAFDA,OAEC,8BAFSR,cAET;AAAA,MADES,OACF;;AACD,SAAOV,KAAK;AACViB,IAAAA,MAAM,EAAE,MADE;AAEVC,IAAAA,GAAG,YAAKf,MAAL,SAAcI,IAAd,CAFO;AAGVK,IAAAA,OAAO;AACL,sBAAgB;AADX,OAEDJ,KAAK,IAAI;AAAEK,MAAAA,aAAa,mBAAYL,KAAZ;AAAf,KAFR,CAHG;AAOVO,IAAAA,IAAI,EAAJA,IAPU;AAQVN,IAAAA,OAAO,EAAPA;AARU,KASPC,OATO,EAAL,CAUJI,IAVI,CAUC;AAAA,QAAGC,IAAH,SAAGA,IAAH;AAAA,WAAcA,IAAd;AAAA,GAVD,CAAP;AAWD;AAED,OAAO,SAASI,QAAT,QAKJ;AAAA,2BAJDC,MAIC;AAAA,MAJDA,MAIC,6BAJQhB,OAAO,CAACC,GAAR,CAAYC,OAIpB;AAAA,MAHDe,KAGC,SAHDA,KAGC;AAAA,4BAFDZ,OAEC;AAAA,MAFDA,OAEC,8BAFSR,cAET;AAAA,8BADDqB,SACC;AAAA,MADDA,SACC,gCADW,IACX;AACD,SAAOtB,KAAK,CAAC;AACXiB,IAAAA,MAAM,EAAE,MADG;AAEXC,IAAAA,GAAG,EAAEE,MAFM;AAGXR,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAHE;AAIXG,IAAAA,IAAI,EAAE;AACJM,MAAAA,KAAK,EAALA,KADI;AAEJC,MAAAA,SAAS,EAATA,SAFI;AAGJC,MAAAA,aAAa,EAAE;AAHX,KAJK;AASXd,IAAAA,OAAO,EAAPA;AATW,GAAD,CAAL,CAUJK,IAVI,CAUC;AAAA,QAAGC,IAAH,SAAGA,IAAH;AAAA,WAAcA,IAAd;AAAA,GAVD,CAAP;AAWD;AAED,OAAO,SAASS,UAAT,GAA2D;AAAA,MAAvCC,MAAuC,uEAA9B,GAA8B;;AAAA,kFAAJ,EAAI;AAAA,8BAAvBC,SAAuB;AAAA,MAAvBA,SAAuB,gCAAX,EAAW;;AAChE,MAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;AACAD,EAAAA,GAAG,CAACE,QAAJ,GAAe;AAAEJ,IAAAA,MAAM,EAANA,MAAF;AAAUC,IAAAA,SAAS,EAATA;AAAV,GAAf;AACA,QAAMC,GAAN;AACD","sourcesContent":["import axios from 'axios'\n\nconst defaultTimeout = 10000\n\nexport function fetchAPI({\n  apiUrl = process.env.API_URL,\n  path,\n  token,\n  timeout = defaultTimeout,\n  ...options\n}) {\n  return axios({\n    baseURL: `${apiUrl}${path}`,\n    headers: {\n      ...(token && { Authorization: `Bearer ${token}` }),\n    },\n    timeout,\n    ...options,\n  }).then(({ data }) => data)\n}\n\nexport function postAPI({\n  apiUrl = process.env.API_URL,\n  path,\n  data,\n  token,\n  timeout = defaultTimeout,\n  ...options\n}) {\n  return axios({\n    method: 'post',\n    url: `${apiUrl}${path}`,\n    headers: {\n      'Content-Type': 'application/json',\n      ...(token && { Authorization: `Bearer ${token}` }),\n    },\n    data,\n    timeout,\n    ...options,\n  }).then(({ data }) => data)\n}\n\nexport function fetchGQL({\n  apiURL = process.env.API_URL,\n  query,\n  timeout = defaultTimeout,\n  variables = null,\n}) {\n  return axios({\n    method: 'post',\n    url: apiURL,\n    headers: { 'Content-Type': 'application/json' },\n    data: {\n      query,\n      variables,\n      operationName: null,\n    },\n    timeout,\n  }).then(({ data }) => data)\n}\n\nexport function throwError(status = 500, { errorCode = '' } = {}) {\n  const err = new Error()\n  err.response = { status, errorCode }\n  throw err\n}\n"]},"metadata":{},"sourceType":"module"}