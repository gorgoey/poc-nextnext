{"ast":null,"code":"import React from 'react';\nimport useSWR from 'swr';\nimport isEmpty from 'lodash/isEmpty';\n\nfunction fetcher(callService) {\n  return callService();\n}\n\nexport default function Fetch({\n  children,\n  service,\n  onError,\n  preloader = null\n}) {\n  const {\n    data,\n    isValidating,\n    error\n  } = useSWR([service], fetcher);\n\n  if (isValidating) {\n    return typeof preloader === 'function' ? /*#__PURE__*/React.createElement(preloader) : preloader;\n  }\n\n  if (error) {\n    if (typeof onError === 'function') {\n      return onError(error);\n    }\n\n    console.error(error);\n    return null;\n  }\n\n  if (isEmpty(data)) {\n    return null;\n  }\n\n  return children({\n    data\n  });\n}","map":null,"metadata":{},"sourceType":"module"}