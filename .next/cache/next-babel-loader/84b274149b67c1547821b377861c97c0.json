{"ast":null,"code":"import { jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nimport { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nimport { Fragment } from 'react';\nimport { useTheme } from '@emotion/react';\nimport { Flex, Box } from \"../../../../lib/styles/grid\";\nimport { Page } from \"../../../../lib/page\";\nimport { Fetch, FetchMore } from \"../../../../lib/api\";\nimport * as ArticleService from \"../../../../modules/article/services\";\nimport PopularArticles from \"../../article/ArticleDetailPage/PopularArticles\";\nimport ArticleLatest, { ArticleList } from \"./ArticleLatest\";\nimport * as metaConfig from \"./meta\";\nexport default function HomePage(_ref) {\n  var articleLatest = _ref.articleLatest;\n\n  var _useTheme = useTheme(),\n      variables = _useTheme.variables;\n\n  return _jsx(Page, {\n    metaConfig: metaConfig,\n    children: _jsxs(Flex, {\n      children: [_jsxs(Box, {\n        width: [1, 2 / 3],\n        pr: [0, 20],\n        children: [_jsx(ArticleLatest, {\n          data: articleLatest\n        }), _jsx(FetchMore, {\n          service: function service(_ref2) {\n            var start = _ref2.start,\n                limit = _ref2.limit;\n            return ArticleService.getArticles({\n              start: start,\n              limit: limit\n            });\n          },\n          start: 5,\n          limit: 5,\n          children: function children(_ref3) {\n            var data = _ref3.data,\n                fetchMore = _ref3.fetchMore,\n                isLoading = _ref3.isLoading,\n                isDone = _ref3.isDone;\n            return _jsxs(Fragment, {\n              children: [_jsx(ArticleList, {\n                data: data\n              }), !isDone && _jsx(\"div\", {\n                css: {\n                  textAlign: 'center'\n                },\n                children: _jsx(\"button\", {\n                  onClick: fetchMore,\n                  css: {\n                    width: '100%',\n                    padding: '10px 20px',\n                    border: \"1px solid \".concat(variables.colors.background.secondary),\n                    borderRadius: '5px',\n                    color: variables.colors.text.secondary\n                  },\n                  children: isLoading ? 'Loading...' : 'Load More'\n                })\n              })]\n            });\n          }\n        })]\n      }), _jsx(Box, {\n        width: [1, 1 / 3],\n        pl: [0, 20],\n        children: _jsx(Fetch, {\n          service: function service() {\n            return ArticleService.getArticles({\n              limit: 5\n            });\n          },\n          children: function children(_ref4) {\n            var data = _ref4.data;\n            return _jsx(PopularArticles, {\n              data: data\n            });\n          }\n        })\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}