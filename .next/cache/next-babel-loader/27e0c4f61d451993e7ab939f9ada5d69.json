{"ast":null,"code":"import React from 'react';\nimport useSWR from 'swr';\nimport isEmpty from 'lodash/isEmpty';\n\nfunction fetcher(callService) {\n  return callService();\n}\n\nexport default function Fetch(_ref) {\n  var children = _ref.children,\n      service = _ref.service,\n      onError = _ref.onError,\n      _ref$preloader = _ref.preloader,\n      preloader = _ref$preloader === void 0 ? null : _ref$preloader;\n\n  var _useSWR = useSWR([service], fetcher),\n      data = _useSWR.data,\n      isValidating = _useSWR.isValidating,\n      error = _useSWR.error;\n\n  if (isValidating) {\n    return typeof preloader === 'function' ? /*#__PURE__*/React.createElement(preloader) : preloader;\n  }\n\n  if (error) {\n    if (typeof onError === 'function') {\n      return onError(error);\n    }\n\n    console.error(error);\n    return null;\n  }\n\n  if (isEmpty(data)) {\n    return null;\n  }\n\n  return children({\n    data: data\n  });\n}","map":null,"metadata":{},"sourceType":"module"}